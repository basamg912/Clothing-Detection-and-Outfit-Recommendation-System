{% extends "base.html" %}
{% block title %}í•˜ì˜ ì¹´í…Œê³ ë¦¬{% endblock %}

{% block content %}
<div class="page-header fade-in">
    <h1 class="page-title">ğŸ‘– í•˜ì˜ ì¹´í…Œê³ ë¦¬</h1>
    <p class="page-subtitle">ë“±ë¡ëœ í•˜ì˜ ì˜ë¥˜ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤</p>
</div>

{% if request.args.get('corrected') == '1' %}
<script>document.addEventListener('DOMContentLoaded', () => showToast('ìˆ˜ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success'));</script>
{% endif %}

<!-- Category Tabs -->
<div class="category-tabs fade-in fade-in-delay-1">
    <a href="/top" class="category-tab">ğŸ‘• TOP</a>
    <a href="/bottom" class="category-tab active">ğŸ‘– BOTTOM</a>
    <a href="/outer" class="category-tab">ğŸ§¥ OUTER</a>
    <a href="/shoe" class="category-tab">ğŸ‘Ÿ SHOE</a>
</div>

{% if items %}
<div class="items-grid fade-in fade-in-delay-2">
    {% for it in items %}
    <div class="item-card">
        <div class="item-img-wrap">
            <img src="{{ url_for('static', filename='uploads/' + it['filename']) }}" alt="{{ it['filename'] }}">
        </div>
        <div class="item-body">
            <div class="item-name">{{ it['filename'] }}</div>
            <div style="margin-bottom: 8px;">
                <span class="badge-pill badge-category">{{ it['raw'] }}</span>
                <span class="badge-pill badge-color">{{ it['color'] }}</span>
            </div>
            <details style="margin-top: 8px;">
                <summary style="cursor: pointer; font-size: 13px; color: var(--text-muted); user-select: none;">âš™ï¸ ìˆ˜ì •í•˜ê¸°
                </summary>
                <div class="edit-controls">
                    <form method="post" action="{{ url_for('index') }}">
                        <input type="hidden" name="old_page" value="bottom">
                        <input type="hidden" name="raw" value="{{ it['raw'] }}">
                        <input type="hidden" name="filename" value="{{ it['filename'] }}">
                        <input type="hidden" name="old_color" value="{{ it['color'] }}">
                        <div class="edit-row">
                            <select name="category_override" class="form-select-dark">
                                <option disabled>ì¹´í…Œê³ ë¦¬</option>
                                <option value="top">top</option>
                                <option value="bottom" selected>bottom</option>
                                <option value="outer">outer</option>
                                <option value="shoe">shoe</option>
                            </select>
                        </div>
                        <div class="edit-row">
                            <select name="color_override" class="form-select-dark">
                                <option disabled selected>ìƒ‰ìƒ ì„ íƒ</option>
                                <option value="white">white</option>
                                <option value="gray">gray</option>
                                <option value="black">black</option>
                                <option value="navy">navy</option>
                                <option value="blue">blue</option>
                                <option value="skyblue">skyblue</option>
                                <option value="beige">beige</option>
                                <option value="pink">pink</option>
                                <option value="green">green</option>
                                <option value="yellow">yellow</option>
                                <option value="brown">brown</option>
                                <option value="khaki">khaki</option>
                            </select>
                        </div>
                        <div class="edit-actions">
                            <button type="submit" class="btn-accent btn-sm-modern">âœï¸ ìˆ˜ì •</button>
                        </div>
                    </form>
                    <form method="post" action="{{ url_for('bottom') }}">
                        <input type="hidden" name="delete_filename" value="{{ it['filename'] }}">
                        <input type="hidden" name="delete_category" value="bottom">
                        <button type="submit" class="btn-danger-modern btn-sm-modern"
                            onclick="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')">ğŸ—‘ï¸ ì‚­ì œ</button>
                    </form>
                </div>
            </details>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="empty-state fade-in fade-in-delay-2">
    <div class="empty-icon">ğŸ‘–</div>
    <div class="empty-text">ë“±ë¡ëœ í•˜ì˜ ì•„ì´í…œì´ ì—†ìŠµë‹ˆë‹¤</div>
    <div class="empty-sub">í™ˆì—ì„œ ì‚¬ì§„ì„ ì—…ë¡œë“œí•˜ì—¬ ì˜ë¥˜ë¥¼ ì¶”ê°€í•˜ì„¸ìš”</div>
</div>
{% endif %}

<div style="display: flex; gap: 12px; margin-top: 32px;" class="fade-in fade-in-delay-3">
    <a href="/" class="btn-ghost">ğŸ  í™ˆìœ¼ë¡œ</a>
    <a href="/closet" class="btn-ghost">ğŸ‘” ì˜·ì¥ìœ¼ë¡œ</a>
</div>
{% endblock %}